(window.webpackJsonp=window.webpackJsonp||[]).push([[130],{666:function(e,t,s){"use strict";s.r(t);var a=s(21),n=Object(a.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"gauge"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gauge"}},[e._v("#")]),e._v(" gauge")]),e._v(" "),t("p",[e._v("A nearly stateless terminal based horizontal gauge / progress bar.")]),e._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("var")]),e._v(" Gauge "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"gauge"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("var")]),e._v(" gauge "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("new")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("Gauge")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\ngauge"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("show")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"working…"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("setTimeout")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=>")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" gauge"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("pulse")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" gauge"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("show")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"working…"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0.25")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("500")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("setTimeout")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=>")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" gauge"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("pulse")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" gauge"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("show")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"working…"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0.50")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("setTimeout")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=>")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" gauge"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("pulse")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" gauge"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("show")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"working…"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0.75")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1500")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("setTimeout")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=>")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" gauge"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("pulse")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" gauge"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("show")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"working…"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0.99")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("2000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("setTimeout")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=>")]),e._v(" gauge"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("hide")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("2300")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])])]),t("p",[e._v("See also the "),t("a",{attrs:{href:"demo.js"}},[e._v("demos")]),e._v(":")]),e._v(" "),t("p",[t("img",{attrs:{src:"gauge-demo.gif",alt:""}})]),e._v(" "),t("h3",{attrs:{id:"changes-from-1-x"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#changes-from-1-x"}},[e._v("#")]),e._v(" CHANGES FROM 1.x")]),e._v(" "),t("p",[e._v("Gauge 2.x is breaking release, please see the "),t("RouterLink",{attrs:{to:"/software/node_modules/gauge/CHANGELOG.html"}},[e._v("changelog")]),e._v(" for details on\nwhat's changed if you were previously a user of this module.")],1),e._v(" "),t("h3",{attrs:{id:"the-gauge-class"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#the-gauge-class"}},[e._v("#")]),e._v(" THE GAUGE CLASS")]),e._v(" "),t("p",[e._v("This is the typical interface to the module– it provides a pretty\nfire-and-forget interface to displaying your status information.")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('var Gauge = require("gauge")\n\nvar gauge = new Gauge([stream], [options])\n')])])]),t("ul",[t("li",[t("strong",[e._v("stream")]),e._v(" – "),t("em",[e._v("(optional, default STDERR)")]),e._v(" A stream that progress bar\nupdates are to be written to.  Gauge honors backpressure and will pause\nmost writing if it is indicated.")]),e._v(" "),t("li",[t("strong",[e._v("options")]),e._v(" – "),t("em",[e._v("(optional)")]),e._v(" An option object.")])]),e._v(" "),t("p",[e._v("Constructs a new gauge. Gauges are drawn on a single line, and are not drawn\nif "),t("strong",[e._v("stream")]),e._v(" isn't a tty and a tty isn't explicitly provided.")]),e._v(" "),t("p",[e._v("If "),t("strong",[e._v("stream")]),e._v(" is a terminal or if you pass in "),t("strong",[e._v("tty")]),e._v(" to "),t("strong",[e._v("options")]),e._v(" then we\nwill detect terminal resizes and redraw to fit.  We do this by watching for\n"),t("code",[e._v("resize")]),e._v(" events on the tty.  (To work around a bug in versions of Node prior\nto 2.5.0, we watch for them on stdout if the tty is stderr.) Resizes to\nlarger window sizes will be clean, but shrinking the window will always\nresult in some cruft.")]),e._v(" "),t("p",[t("strong",[e._v("IMPORTANT:")]),e._v(" If you previously were passing in a non-tty stream but you still\nwant output (for example, a stream wrapped by the "),t("code",[e._v("ansi")]),e._v(" module) then you\nneed to pass in the "),t("strong",[e._v("tty")]),e._v(" option below, as "),t("code",[e._v("gauge")]),e._v(" needs access to\nthe underlying tty in order to do things like terminal resizes and terminal\nwidth detection.")]),e._v(" "),t("p",[e._v("The "),t("strong",[e._v("options")]),e._v(" object can have the following properties, all of which are\noptional:")]),e._v(" "),t("ul",[t("li",[t("p",[t("strong",[e._v("updateInterval")]),e._v(": How often gauge updates should be drawn, in milliseconds.")])]),e._v(" "),t("li",[t("p",[t("strong",[e._v("fixedFramerate")]),e._v(": Defaults to false on node 0.8, true on everything\nelse.  When this is true a timer is created to trigger once every\n"),t("code",[e._v("updateInterval")]),e._v(" ms, when false, updates are printed as soon as they come\nin but updates more often than "),t("code",[e._v("updateInterval")]),e._v(" are ignored.  The reason\n0.8 doesn't have this set to true is that it can't "),t("code",[e._v("unref")]),e._v(" its timer and\nso it would stop your program from exiting– if you want to use this\nfeature with 0.8 just make sure you call "),t("code",[e._v("gauge.disable()")]),e._v(" before you\nexpect your program to exit.")])]),e._v(" "),t("li",[t("p",[t("strong",[e._v("themes")]),e._v(": A themeset to use when selecting the theme to use. Defaults\nto "),t("code",[e._v("gauge/themes")]),e._v(", see the "),t("a",{attrs:{href:"#themes"}},[e._v("themes")]),e._v(" documentation for details.")])]),e._v(" "),t("li",[t("p",[t("strong",[e._v("theme")]),e._v(": Select a theme for use, it can be a:")]),e._v(" "),t("ul",[t("li",[e._v("Theme object, in which case the "),t("strong",[e._v("themes")]),e._v(" is not used.")]),e._v(" "),t("li",[e._v("The name of a theme, which will be looked up in the current "),t("em",[e._v("themes")]),e._v("\nobject.")]),e._v(" "),t("li",[e._v("A configuration object with any of "),t("code",[e._v("hasUnicode")]),e._v(", "),t("code",[e._v("hasColor")]),e._v(" or\n"),t("code",[e._v("platform")]),e._v(" keys, which if will be used to override our guesses when making\na default theme selection.")])]),e._v(" "),t("p",[e._v("If no theme is selected then a default is picked using a combination of our\nbest guesses at your OS, color support and unicode support.")])]),e._v(" "),t("li",[t("p",[t("strong",[e._v("template")]),e._v(": Describes what you want your gauge to look like.  The\ndefault is what npm uses.  Detailed "),t("a",{attrs:{href:"#templates"}},[e._v("documentation")]),e._v(" is later in this\ndocument.")])]),e._v(" "),t("li",[t("p",[t("strong",[e._v("hideCursor")]),e._v(": Defaults to true.  If true, then the cursor will be hidden\nwhile the gauge is displayed.")])]),e._v(" "),t("li",[t("p",[t("strong",[e._v("tty")]),e._v(": The tty that you're ultimately writing to.  Defaults to the same\nas "),t("strong",[e._v("stream")]),e._v(".  This is used for detecting the width of the terminal and\nresizes. The width used is "),t("code",[e._v("tty.columns - 1")]),e._v(". If no tty is available then\na width of "),t("code",[e._v("79")]),e._v(" is assumed.")])]),e._v(" "),t("li",[t("p",[t("strong",[e._v("enabled")]),e._v(": Defaults to true if "),t("code",[e._v("tty")]),e._v(" is a TTY, false otherwise.  If true\nthe gauge starts enabled.  If disabled then all update commands are\nignored and no gauge will be printed until you call "),t("code",[e._v(".enable()")]),e._v(".")])]),e._v(" "),t("li",[t("p",[t("strong",[e._v("Plumbing")]),e._v(": The class to use to actually generate the gauge for\nprinting.  This defaults to "),t("code",[e._v("require('gauge/plumbing')")]),e._v(" and ordinarily you\nshouldn't need to override this.")])]),e._v(" "),t("li",[t("p",[t("strong",[e._v("cleanupOnExit")]),e._v(": Defaults to true. Ordinarily we register an exit\nhandler to make sure your cursor is turned back on and the progress bar\nerased when your process exits, even if you Ctrl-C out or otherwise exit\nunexpectedly. You can disable this and it won't register the exit handler.")])])]),e._v(" "),t("h4",{attrs:{id:"gauge-show-section-status-completed"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gauge-show-section-status-completed"}},[e._v("#")]),e._v(" "),t("code",[e._v("gauge.show(section | status, [completed])")])]),e._v(" "),t("p",[e._v("The first argument is either the section, the name of the current thing\ncontributing to progress, or an object with keys like "),t("strong",[e._v("section")]),e._v(",\n"),t("strong",[e._v("subsection")]),e._v(" & "),t("strong",[e._v("completed")]),e._v(" (or any others you have types for in a custom\ntemplate).  If you don't want to update or set any of these you can pass\n"),t("code",[e._v("null")]),e._v(" and it will be ignored.")]),e._v(" "),t("p",[e._v("The second argument is the percent completed as a value between 0 and 1.\nWithout it, completion is just not updated. You'll also note that completion\ncan be passed in as part of a status object as the first argument. If both\nit and the completed argument are passed in, the completed argument wins.")]),e._v(" "),t("h4",{attrs:{id:"gauge-hide-cb"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gauge-hide-cb"}},[e._v("#")]),e._v(" "),t("code",[e._v("gauge.hide([cb])")])]),e._v(" "),t("p",[e._v("Removes the gauge from the terminal.  Optionally, callback "),t("code",[e._v("cb")]),e._v(" after IO has\nhad an opportunity to happen (currently this just means after "),t("code",[e._v("setImmediate")]),e._v("\nhas called back.)")]),e._v(" "),t("p",[e._v('It turns out this is important when you\'re pausing the progress bar on one\nfilehandle and printing to another– otherwise (with a big enough print) node\ncan end up printing the "end progress bar" bits to the progress bar filehandle\nwhile other stuff is printing to another filehandle. These getting interleaved\ncan cause corruption in some terminals.')]),e._v(" "),t("h4",{attrs:{id:"gauge-pulse-subsection"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gauge-pulse-subsection"}},[e._v("#")]),e._v(" "),t("code",[e._v("gauge.pulse([subsection])")])]),e._v(" "),t("ul",[t("li",[t("strong",[e._v("subsection")]),e._v(" – "),t("em",[e._v("(optional)")]),e._v(" The specific thing that triggered this pulse")])]),e._v(" "),t("p",[e._v("Spins the spinner in the gauge to show output.  If "),t("strong",[e._v("subsection")]),e._v(" is\nincluded then it will be combined with the last name passed to "),t("code",[e._v("gauge.show")]),e._v(".")]),e._v(" "),t("h4",{attrs:{id:"gauge-disable"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gauge-disable"}},[e._v("#")]),e._v(" "),t("code",[e._v("gauge.disable()")])]),e._v(" "),t("p",[e._v("Hides the gauge and ignores further calls to "),t("code",[e._v("show")]),e._v(" or "),t("code",[e._v("pulse")]),e._v(".")]),e._v(" "),t("h4",{attrs:{id:"gauge-enable"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gauge-enable"}},[e._v("#")]),e._v(" "),t("code",[e._v("gauge.enable()")])]),e._v(" "),t("p",[e._v("Shows the gauge and resumes updating when "),t("code",[e._v("show")]),e._v(" or "),t("code",[e._v("pulse")]),e._v(" is called.")]),e._v(" "),t("h4",{attrs:{id:"gauge-isenabled"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gauge-isenabled"}},[e._v("#")]),e._v(" "),t("code",[e._v("gauge.isEnabled()")])]),e._v(" "),t("p",[e._v("Returns true if the gauge is enabled.")]),e._v(" "),t("h4",{attrs:{id:"gauge-setthemeset-themes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gauge-setthemeset-themes"}},[e._v("#")]),e._v(" "),t("code",[e._v("gauge.setThemeset(themes)")])]),e._v(" "),t("p",[e._v("Change the themeset to select a theme from. The same as the "),t("code",[e._v("themes")]),e._v(" option\nused in the constructor. The theme will be reselected from this themeset.")]),e._v(" "),t("h4",{attrs:{id:"gauge-settheme-theme"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gauge-settheme-theme"}},[e._v("#")]),e._v(" "),t("code",[e._v("gauge.setTheme(theme)")])]),e._v(" "),t("p",[e._v("Change the active theme, will be displayed with the next show or pulse. This can be:")]),e._v(" "),t("ul",[t("li",[e._v("Theme object, in which case the "),t("strong",[e._v("themes")]),e._v(" is not used.")]),e._v(" "),t("li",[e._v("The name of a theme, which will be looked up in the current "),t("em",[e._v("themes")]),e._v("\nobject.")]),e._v(" "),t("li",[e._v("A configuration object with any of "),t("code",[e._v("hasUnicode")]),e._v(", "),t("code",[e._v("hasColor")]),e._v(" or\n"),t("code",[e._v("platform")]),e._v(" keys, which if will be used to override our guesses when making\na default theme selection.")])]),e._v(" "),t("p",[e._v("If no theme is selected then a default is picked using a combination of our\nbest guesses at your OS, color support and unicode support.")]),e._v(" "),t("h4",{attrs:{id:"gauge-settemplate-template"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gauge-settemplate-template"}},[e._v("#")]),e._v(" "),t("code",[e._v("gauge.setTemplate(template)")])]),e._v(" "),t("p",[e._v("Change the active template, will be displayed with the next show or pulse")]),e._v(" "),t("h3",{attrs:{id:"tracking-completion"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tracking-completion"}},[e._v("#")]),e._v(" Tracking Completion")]),e._v(" "),t("p",[e._v("If you have more than one thing going on that you want to track completion\nof, you may find the related "),t("a",{attrs:{href:"https://www.npmjs.com/package/are-we-there-yet",target:"_blank",rel:"noopener noreferrer"}},[e._v("are-we-there-yet"),t("OutboundLink")],1),e._v(" helpful.  It's "),t("code",[e._v("change")]),e._v("\nevent can be wired up to the "),t("code",[e._v("show")]),e._v(" method to get a more traditional\nprogress bar interface.")]),e._v(" "),t("h3",{attrs:{id:"themes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#themes"}},[e._v("#")]),e._v(" THEMES")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("var themes = require('gauge/themes')\n\n// fetch the default color unicode theme for this platform\nvar ourTheme = themes({hasUnicode: true, hasColor: true})\n\n// fetch the default non-color unicode theme for osx\nvar ourTheme = themes({hasUnicode: true, hasColor: false, platform: 'darwin'})\n\n// create a new theme based on the color ascii theme for this platform\n// that brackets the progress bar with arrows\nvar ourTheme = themes.newTheme(themes({hasUnicode: false, hasColor: true}), {\n  preProgressbar: '→',\n  postProgressbar: '←'\n})\n")])])]),t("p",[e._v("The object returned by "),t("code",[e._v("gauge/themes")]),e._v(" is an instance of the "),t("code",[e._v("ThemeSet")]),e._v(" class.")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("var ThemeSet = require('gauge/theme-set')\nvar themes = new ThemeSet()\n// or\nvar themes = require('gauge/themes')\nvar mythemes = themes.newThemeSet() // creates a new themeset based on the default themes\n")])])]),t("h4",{attrs:{id:"themes-opts"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#themes-opts"}},[e._v("#")]),e._v(" themes(opts)")]),e._v(" "),t("h4",{attrs:{id:"themes-getdefault-opts"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#themes-getdefault-opts"}},[e._v("#")]),e._v(" themes.getDefault(opts)")]),e._v(" "),t("p",[e._v("Theme objects are a function that fetches the default theme based on\nplatform, unicode and color support.")]),e._v(" "),t("p",[e._v("Options is an object with the following properties:")]),e._v(" "),t("ul",[t("li",[t("strong",[e._v("hasUnicode")]),e._v(" - If true, fetch a unicode theme, if no unicode theme is\navailable then a non-unicode theme will be used.")]),e._v(" "),t("li",[t("strong",[e._v("hasColor")]),e._v(" - If true, fetch a color theme, if no color theme is\navailable a non-color theme will be used.")]),e._v(" "),t("li",[t("strong",[e._v("platform")]),e._v(" (optional) - Defaults to "),t("code",[e._v("process.platform")]),e._v(".  If no\nplatform match is available then "),t("code",[e._v("fallback")]),e._v(" is used instead.")])]),e._v(" "),t("p",[e._v("If no compatible theme can be found then an error will be thrown with a\n"),t("code",[e._v("code")]),e._v(" of "),t("code",[e._v("EMISSINGTHEME")]),e._v(".")]),e._v(" "),t("h4",{attrs:{id:"themes-addtheme-themename-themeobj"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#themes-addtheme-themename-themeobj"}},[e._v("#")]),e._v(" themes.addTheme(themeName, themeObj)")]),e._v(" "),t("h4",{attrs:{id:"themes-addtheme-themename-parenttheme-newtheme"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#themes-addtheme-themename-parenttheme-newtheme"}},[e._v("#")]),e._v(" themes.addTheme(themeName, [parentTheme], newTheme)")]),e._v(" "),t("p",[e._v("Adds a named theme to the themeset.  You can pass in either a theme object,\nas returned by "),t("code",[e._v("themes.newTheme")]),e._v(" or the arguments you'd pass to\n"),t("code",[e._v("themes.newTheme")]),e._v(".")]),e._v(" "),t("h4",{attrs:{id:"themes-getthemenames"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#themes-getthemenames"}},[e._v("#")]),e._v(" themes.getThemeNames()")]),e._v(" "),t("p",[e._v("Return a list of all of the names of the themes in this themeset. Suitable\nfor use in "),t("code",[e._v("themes.getTheme(…)")]),e._v(".")]),e._v(" "),t("h4",{attrs:{id:"themes-gettheme-name"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#themes-gettheme-name"}},[e._v("#")]),e._v(" themes.getTheme(name)")]),e._v(" "),t("p",[e._v("Returns the theme object from this theme set named "),t("code",[e._v("name")]),e._v(".")]),e._v(" "),t("p",[e._v("If "),t("code",[e._v("name")]),e._v(" does not exist in this themeset an error will be thrown with\na "),t("code",[e._v("code")]),e._v(" of "),t("code",[e._v("EMISSINGTHEME")]),e._v(".")]),e._v(" "),t("h4",{attrs:{id:"themes-setdefault-opts-themename"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#themes-setdefault-opts-themename"}},[e._v("#")]),e._v(" themes.setDefault([opts], themeName)")]),e._v(" "),t("p",[t("code",[e._v("opts")]),e._v(" is an object with the following properties.")]),e._v(" "),t("ul",[t("li",[t("strong",[e._v("platform")]),e._v(" - Defaults to "),t("code",[e._v("'fallback'")]),e._v(".  If your theme is platform\nspecific, specify that here with the platform from "),t("code",[e._v("process.platform")]),e._v(", eg,\n"),t("code",[e._v("win32")]),e._v(", "),t("code",[e._v("darwin")]),e._v(", etc.")]),e._v(" "),t("li",[t("strong",[e._v("hasUnicode")]),e._v(" - Defaults to "),t("code",[e._v("false")]),e._v(". If your theme uses unicode you\nshould set this to true.")]),e._v(" "),t("li",[t("strong",[e._v("hasColor")]),e._v(" - Defaults to "),t("code",[e._v("false")]),e._v(".  If your theme uses color you should\nset this to true.")])]),e._v(" "),t("p",[t("code",[e._v("themeName")]),e._v(" is the name of the theme (as given to "),t("code",[e._v("addTheme")]),e._v(") to use for\nthis set of "),t("code",[e._v("opts")]),e._v(".")]),e._v(" "),t("h4",{attrs:{id:"themes-newtheme-parenttheme-newtheme"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#themes-newtheme-parenttheme-newtheme"}},[e._v("#")]),e._v(" themes.newTheme([parentTheme,] newTheme)")]),e._v(" "),t("p",[e._v("Create a new theme object based on "),t("code",[e._v("parentTheme")]),e._v(".  If no "),t("code",[e._v("parentTheme")]),e._v(" is\nprovided then a minimal parentTheme that defines functions for rendering the\nactivity indicator (spinner) and progress bar will be defined. (This\nfallback parent is defined in "),t("code",[e._v("gauge/base-theme")]),e._v(".)")]),e._v(" "),t("p",[e._v("newTheme should be a bare object– we'll start by discussing the properties\ndefined by the default themes:")]),e._v(" "),t("ul",[t("li",[t("strong",[e._v("preProgressbar")]),e._v(" - displayed prior to the progress bar, if the progress\nbar is displayed.")]),e._v(" "),t("li",[t("strong",[e._v("postProgressbar")]),e._v(" - displayed after the progress bar, if the progress bar\nis displayed.")]),e._v(" "),t("li",[t("strong",[e._v("progressBarTheme")]),e._v(" - The subtheme passed through to the progress bar\nrenderer, it's an object with "),t("code",[e._v("complete")]),e._v(" and "),t("code",[e._v("remaining")]),e._v(" properties\nthat are the strings you want repeated for those sections of the progress\nbar.")]),e._v(" "),t("li",[t("strong",[e._v("activityIndicatorTheme")]),e._v(" - The theme for the activity indicator (spinner),\nthis can either be a string, in which each character is a different step, or\nan array of strings.")]),e._v(" "),t("li",[t("strong",[e._v("preSubsection")]),e._v(" - Displayed as a separator between the "),t("code",[e._v("section")]),e._v(" and\n"),t("code",[e._v("subsection")]),e._v(" when the latter is printed.")])]),e._v(" "),t("p",[e._v("More generally, themes can have any value that would be a valid value when rendering\ntemplates. The properties in the theme are used when their name matches a type in\nthe template. Their values can be:")]),e._v(" "),t("ul",[t("li",[t("strong",[e._v("strings & numbers")]),e._v(" - They'll be included as is")]),e._v(" "),t("li",[t("strong",[e._v("function (values, theme, width)")]),e._v(" - Should return what you want in your output.\n"),t("em",[e._v("values")]),e._v(" is an object with values provided via "),t("code",[e._v("gauge.show")]),e._v(",\n"),t("em",[e._v("theme")]),e._v(" is the theme specific to this item (see below) or this theme object,\nand "),t("em",[e._v("width")]),e._v(" is the number of characters wide your result should be.")])]),e._v(" "),t("p",[e._v("There are a couple of special prefixes:")]),e._v(" "),t("ul",[t("li",[t("strong",[e._v("pre")]),e._v(" - Is shown prior to the property, if its displayed.")]),e._v(" "),t("li",[t("strong",[e._v("post")]),e._v(" - Is shown after the property, if its displayed.")])]),e._v(" "),t("p",[e._v("And one special suffix:")]),e._v(" "),t("ul",[t("li",[t("strong",[e._v("Theme")]),e._v(" - Its value is passed to a function-type item as the theme.")])]),e._v(" "),t("h4",{attrs:{id:"themes-addtoallthemes-theme"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#themes-addtoallthemes-theme"}},[e._v("#")]),e._v(" themes.addToAllThemes(theme)")]),e._v(" "),t("p",[e._v("This "),t("em",[e._v("mixes-in")]),e._v(" "),t("code",[e._v("theme")]),e._v(" into all themes currently defined. It also adds it\nto the default parent theme for this themeset, so future themes added to\nthis themeset will get the values from "),t("code",[e._v("theme")]),e._v(" by default.")]),e._v(" "),t("h4",{attrs:{id:"themes-newthemeset"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#themes-newthemeset"}},[e._v("#")]),e._v(" themes.newThemeSet()")]),e._v(" "),t("p",[e._v("Copy the current themeset into a new one.  This allows you to easily inherit\none themeset from another.")]),e._v(" "),t("h3",{attrs:{id:"templates"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#templates"}},[e._v("#")]),e._v(" TEMPLATES")]),e._v(" "),t("p",[e._v("A template is an array of objects and strings that, after being evaluated,\nwill be turned into the gauge line.  The default template is:")]),e._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("type")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'progressbar'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("length")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("type")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'activityIndicator'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("kerning")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("length")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("type")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'section'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("kerning")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("default")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("''")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("type")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'subsection'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("kerning")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("default")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("''")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n")])])]),t("p",[e._v("The various template elements can either be "),t("strong",[e._v("plain strings")]),e._v(", in which case they will\nbe be included verbatum in the output, or objects with the following properties:")]),e._v(" "),t("ul",[t("li",[t("em",[e._v("type")]),e._v(" can be any of the following plus any keys you pass into "),t("code",[e._v("gauge.show")]),e._v(" plus\nany keys you have on a custom theme.\n"),t("ul",[t("li",[t("code",[e._v("section")]),e._v(" – What big thing you're working on now.")]),e._v(" "),t("li",[t("code",[e._v("subsection")]),e._v(" – What component of that thing is currently working.")]),e._v(" "),t("li",[t("code",[e._v("activityIndicator")]),e._v(" – Shows a spinner using the "),t("code",[e._v("activityIndicatorTheme")]),e._v("\nfrom your active theme.")]),e._v(" "),t("li",[t("code",[e._v("progressbar")]),e._v(" – A progress bar representing your current "),t("code",[e._v("completed")]),e._v("\nusing the "),t("code",[e._v("progressbarTheme")]),e._v(" from your active theme.")])])]),e._v(" "),t("li",[t("em",[e._v("kerning")]),e._v(" – Number of spaces that must be between this item and other\nitems, if this item is displayed at all.")]),e._v(" "),t("li",[t("em",[e._v("maxLength")]),e._v(" – The maximum length for this element. If its value is longer it\nwill be truncated.")]),e._v(" "),t("li",[t("em",[e._v("minLength")]),e._v(" – The minimum length for this element. If its value is shorter it\nwill be padded according to the "),t("em",[e._v("align")]),e._v(" value.")]),e._v(" "),t("li",[t("em",[e._v("align")]),e._v(' – (Default: left) Possible values "left", "right" and "center". Works\nas you\'d expect from word processors.')]),e._v(" "),t("li",[t("em",[e._v("length")]),e._v(" – Provides a single value for both "),t("em",[e._v("minLength")]),e._v(" and "),t("em",[e._v("maxLength")]),e._v(". If both\n"),t("em",[e._v("length")]),e._v(" and *minLength or "),t("em",[e._v("maxLength")]),e._v(" are specified then the latter take precedence.")]),e._v(" "),t("li",[t("em",[e._v("value")]),e._v(" – A literal value to use for this template item.")]),e._v(" "),t("li",[t("em",[e._v("default")]),e._v(" – A default value to use for this template item if a value\nwasn't otherwise passed in.")])]),e._v(" "),t("h3",{attrs:{id:"plumbing"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#plumbing"}},[e._v("#")]),e._v(" PLUMBING")]),e._v(" "),t("p",[e._v("This is the super simple, assume nothing, do no magic internals used by gauge to\nimplement its ordinary interface.")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("var Plumbing = require('gauge/plumbing')\nvar gauge = new Plumbing(theme, template, width)\n")])])]),t("ul",[t("li",[t("strong",[e._v("theme")]),e._v(": The theme to use.")]),e._v(" "),t("li",[t("strong",[e._v("template")]),e._v(": The template to use.")]),e._v(" "),t("li",[t("strong",[e._v("width")]),e._v(": How wide your gauge should be")])]),e._v(" "),t("h4",{attrs:{id:"gauge-settheme-theme-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gauge-settheme-theme-2"}},[e._v("#")]),e._v(" "),t("code",[e._v("gauge.setTheme(theme)")])]),e._v(" "),t("p",[e._v("Change the active theme.")]),e._v(" "),t("h4",{attrs:{id:"gauge-settemplate-template-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gauge-settemplate-template-2"}},[e._v("#")]),e._v(" "),t("code",[e._v("gauge.setTemplate(template)")])]),e._v(" "),t("p",[e._v("Change the active template.")]),e._v(" "),t("h4",{attrs:{id:"gauge-setwidth-width"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gauge-setwidth-width"}},[e._v("#")]),e._v(" "),t("code",[e._v("gauge.setWidth(width)")])]),e._v(" "),t("p",[e._v("Change the width to render at.")]),e._v(" "),t("h4",{attrs:{id:"gauge-hide"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gauge-hide"}},[e._v("#")]),e._v(" "),t("code",[e._v("gauge.hide()")])]),e._v(" "),t("p",[e._v("Return the string necessary to hide the progress bar")]),e._v(" "),t("h4",{attrs:{id:"gauge-hidecursor"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gauge-hidecursor"}},[e._v("#")]),e._v(" "),t("code",[e._v("gauge.hideCursor()")])]),e._v(" "),t("p",[e._v("Return a string to hide the cursor.")]),e._v(" "),t("h4",{attrs:{id:"gauge-showcursor"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gauge-showcursor"}},[e._v("#")]),e._v(" "),t("code",[e._v("gauge.showCursor()")])]),e._v(" "),t("p",[e._v("Return a string to show the cursor.")]),e._v(" "),t("h4",{attrs:{id:"gauge-show-status"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gauge-show-status"}},[e._v("#")]),e._v(" "),t("code",[e._v("gauge.show(status)")])]),e._v(" "),t("p",[e._v("Using "),t("code",[e._v("status")]),e._v(" for values, render the provided template with the theme and return\na string that is suitable for printing to update the gauge.")])])}),[],!1,null,null,null);t.default=n.exports}}]);